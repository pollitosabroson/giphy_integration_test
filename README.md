# Giphy - Chat with Giphy Integration

This project implements a chat application with the capability to respond with text, Text-to-Speech (TTS), and generate image/video responses, including integration with the Giphy API to fetch GIFs based on text.

## Prerequisites

Ensure you have the following installed on your system:

* **Docker:** For containerization and easy execution of the application. You can install it from [https://docs.docker.com/get-docker/](https://docs.docker.com/get-docker/).
* **Docker Compose:** Usually installed along with Docker Desktop. If you need to install it separately, refer to the official documentation: [https://docs.docker.com/compose/install/](https://docs.docker.com/compose/install/).
* **Giphy API Key:** You will need a Giphy API key to use the GIF search functionality. You can obtain one for free by creating a developer account at [https://developers.giphy.com/dashboard/](https://developers.giphy.com/dashboard/).
* **Python 3.9+:** While the application runs in a Docker container, you'll need Python and pip to install development dependencies and run tests locally (optional).
* **pip:** The Python package installer.
* **pre-commit:** To ensure code quality before each commit. It can be installed with `pip install pre-commit`.
* **pytest:** A Python testing framework. It can be installed with `pip install pytest`.

## Configuration

1.  **Clone the project repository (if you haven't already).**

    ```bash
    git clone <REPOSITORY_URL>
    cd <REPOSITORY_NAME>
    ```

2.  **Create a `.env` file (optional, but recommended for development).**

    In the root of the project, create a file named `.env` and add your Giphy API key:

    ```
    GIPHY_API_KEY=YOUR_GIPHY_API_KEY
    ```

    Replace `YOUR_GIPHY_API_KEY` with your actual Giphy API key.

3.  **Install development dependencies (optional, for running tests and linters locally):**

    ```bash
    pip install -r requirements.txt
    pre-commit install
    ```

## Execution

The easiest way to run the application is using Docker Compose:

1.  **Navigate to the root directory of the project** in your terminal.

2.  **Bring up the Docker containers:**

    ```bash
    docker-compose up -d --build
    ```

    This command will build the Docker image (if it's the first time or if there are changes in the `Dockerfile` or code) and then run the application in a container in the background.

3.  **Access the FastAPI application:**

    Once the containers are running, you can access the Giphy API (with Giphy integration) in your browser or using a tool like `curl` at the following addresses:

    * **Endpoint to get a GIF by text:** `http://localhost:8000/get_giphy_gif?text=<YOUR_SEARCH_TEXT>`
        Replace `<YOUR_SEARCH_TEXT>` with the text to search for the GIF (e.g., `funny cat`).

    * **Endpoint to get multiple GIFs by text:** `http://localhost:8000/get_giphy_gifs?text=<YOUR_SEARCH_TEXT>&limit=<NUMBER_OF_GIFS>&rating=<RATING>&lang=<LANGUAGE>`
        Replace the placeholders with your desired values. The `limit`, `rating`, and `lang` parameters are optional with default values.

4.  **View the API documentation (Swagger UI):**

    You can access the interactive API documentation generated by FastAPI at the following address:

    ```
    http://localhost:8000/docs
    ```

5.  **View the API documentation (Redoc):**

    You can also access the alternative documentation in Redoc at:

    ```
    http://localhost:8000/redoc
    ```

## Running Tests

The project includes unit tests to verify the correct functionality of the Pydantic models and API endpoints.

### Running Inside the Docker Container

1.  **Ensure the application is running in the container (see the Execution section).**

2.  **Enter the Docker container:**

    ```bash
    docker exec -it Giphy-test bash
    ```

3.  **Navigate to the application root directory inside the container:**

    ```bash
    cd /app
    ```

4.  **Run the tests using `pytest`:**

    ```bash
    pytest -v tests/
    ```

    This will execute all test files within the `tests` directory.

### Running Locally (Optional)

If you have installed the development dependencies locally:

1.  **Navigate to the root directory of the project in your terminal.**

2.  **Run the tests using `pytest`:**

    ```bash
    pytest -v tests/
    ```

## Stopping the Application

To stop the Docker containers, navigate to the root directory of the project in your terminal and run:

```bash
docker-compose down
